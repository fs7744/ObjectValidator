<?xml version="1.0" encoding="utf-8"?>

<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->

<configuration>
  <configSections>
    <section name="eggkeeper" type="EggKeeper.Sdk.Config.EggKeeperConfiguration, EggKeeper.Sdk" />
  <section name="frameworkTools" type="Newegg.Framework.Tools.Configuration.FrameworkConfiguration, Newegg.Framework.Tools" /><section name="frameworkAPISdk" type="Newegg.FrameworkAPI.SDK.SdkConfiguration, Newegg.FrameworkAPI.SDK" /><section name="RestResourceSection" type="Newegg.API.Configuration.RestResourceSection, Newegg.API.Framework" /><section name="nair" type="Nair.Sdk.NairConfiguration, Nair.Sdk" /><section name="dataAccess" type="Newegg.Oversea.DataAccess.Config.DataAccessSection, Newegg.Oversea.DataAccess" /></configSections>
    <system.web>
      <compilation debug="true" targetFramework="4.5" />
      <httpRuntime targetFramework="4.5" />
    <httpHandlers>
      <add path="*" type="Newegg.API.ServiceHost.APIHttpHandlerFactory, Newegg.API.Framework" verb="*" />
    </httpHandlers></system.web>

<eggkeeper defaultCluster="myCluster">
    <clusters>
      <add name="myCluster" connectionString="10.16.75.23:8481, 10.16.75.25:8481, 10.16.75.26:8481" sessionTimeout="5000" />
    </clusters>
  </eggkeeper><frameworkTools>
    <!--
      logProvider: Text / Debug / Other (must implement ILogEmitter)
	  You can set provider to Other, and set emitter="Newegg.FrameworkAPI.SDK.Log.APILogEmitter,Newegg.FrameworkAPI.SDK"
	  to use log api
    -->
    <logSetting logProvider="Text" logFolder="Logs" emitter="" />
  </frameworkTools><frameworkAPISdk>
		<!--Change API Uri to right address for different env-->
    <frameworkAPI uri="http://10.16.75.24:3000/framework/v1" />
    <!--GQC
    	<frameworkAPI uri="http://10.1.24.130:3000/framework/v1"/>
    -->
    <!--PRD
    	<frameworkAPI uri="http://apis.newegg.org/framework/v1"/>
    -->
	<!--Change log global and local region to right config-->
    <logConfig logGlobal="NeweggCentral" logLocal="UIPortal" />
  </frameworkAPISdk><!--
	If you want to use redis cache, please set: Cache="Newegg.API.Redis.RedisCacheClient, Newegg.API.Redis"
  --><RestResourceSection APIName="Newegg API" EnableAuth="False" Auth="Newegg.API.WebAuth.WebServiceAuthProvider,Newegg.API.WebAuth" DebugMode="True" DefaultExpireTime="30">
    <Resources>
      <Resource AssemblyName="Newegg.API.Metadata" />
	  <!--Add your resource dll here-->
    </Resources>
  </RestResourceSection><system.webServer>
    <modules runAllManagedModulesForAllRequests="true" />
    <!-- Required for IIS 7.0 
    <handlers>
      <add path="*"
           name="APIFrameworkHandler"
           type="Newegg.API.ServiceHost.APIHttpHandlerFactory, Newegg.API.Framework"
           verb="*" preCondition="integratedMode"
           resourceType="Unspecified" allowPathInfo="true" />
    </handlers>
    <validation validateIntegratedModeConfiguration="false"/>-->
  </system.webServer><appSettings>
	<!-- If you use redis cache, please provide redis address
    <add key="Framework.RedisAddress" value="10.16.76.250"/>-->
	<!--Change auth address to PRD env when release: http://api.newegg.org/apiservice/v1/auth/-->
    <add key="Framework.AuthServiceAddress" value="http://10.1.24.145:9099/apiservice/v1/auth/" />
    <add key="aspnet:UseHostHeaderForRequestUrl" value="true" />
  </appSettings><nair defaultCluster="myCluster" devPortalUrl="http://10.16.75.10:9091"> <!--Developer Portal Address-->
    <clusters>
      <!--
        nairserverips: multiple nair servers split with ","
        databaselocation: location(WH7, E3, E4) which the nair servers handle.

        GQC Nair: 172.16.12.154:8887,172.16.12.155:8887
      -->
      <add name="myCluster" nairserverips="10.16.75.25:8887,10.16.75.26:8887,10.16.75.27:8887" databaselocation="WH7" /> 
    </clusters> 
  </nair><!--
    exceptionLevel: Full, Safety.
      Full: will throw all exception message.
      Safety: remove database info from exception message.

    If your data command files store in multiple folders, you can add config
      configDirectory="Configuration"
    dataAccess will read this folder recursive, auto merge all database files and sql config files.
    If you add configDirectory, dataAccess will ignore "sqlConfigListFile" and "databaseListFile".
  --><dataAccess sqlConfigListFile="Configuration\DbCommandFiles.config" databaseListFile="Configuration\Database.config" exceptionLevel="Safety" />

  <runtime>

    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">

      <dependentAssembly>

        <assemblyIdentity name="Nair.Sdk" publicKeyToken="525ea4427d10936d" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-2.0.4.0" newVersion="2.0.4.0" />

      </dependentAssembly>

    </assemblyBinding>

  </runtime>

</configuration>
